{% extends 'base.html' %}
{% load static %}

{% block css_file %}
<link rel="stylesheet" href="{% static 'product/css/product-detail.css' %}">
{% endblock %}

{% block content %}
<main class="product-page">
    <div class="breadcrumbs">
        <a href="{% url 'index' %}">Главная</a> / <a href="{% url 'product_list' %}">Каталог</a> / <span>{{ product.title
            }}</span>
    </div>
    <div class="product-content">
        <div class="image-gallery">
            {% for img in product.images.all %}
            <img src="{{ img.image.url }}" alt="{{ product.title }}"
                class="gallery-img {% if forloop.first %}active{% endif %}">
            {% endfor %}
        </div>
        <div class="product-info">
            <h1 class="product-title">{{ product.title }}</h1>
            <p class="product-price">{{ product.price }} {{ product.get_price_period_display }}</p>
            <p class="product-desc">{{ product.desc }}</p>
            <button class="btn-action">Арендовать</button>
        </div>
    </div>
</main>


<script>
    document.querySelectorAll('.gallery-img').forEach(img => {
        img.addEventListener('click', () => {
            document.querySelectorAll('.gallery-img').forEach(i => i.classList.remove('active'));
            img.classList.add('active');
        });
    });

</script>
{% endblock %}